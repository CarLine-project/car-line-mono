# üì∏ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç: –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —á–µ–∫—ñ–≤

## –©–æ —Ü–µ?

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ —á–µ–∫—ñ–≤ –∑ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é** —Ç–∞ –æ–±—Ä–æ–±–∫–æ—é. –°–∏–º—É–ª—é—î —Ä–µ–∞–ª—å–Ω—É —Å–∏—Å—Ç–µ–º—É OCR —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —á–µ–∫—ñ–≤.

## üöÄ –®–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫
2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å
3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å: **`/demo/receipt-upload`**
4. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ñ–æ—Ç–æ (–∫–∞–º–µ—Ä–∞ –∞–±–æ –≥–∞–ª–µ—Ä–µ—è)
5. –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Ü–µ—Å –æ–±—Ä–æ–±–∫–∏:
   - ‚è≥ **–ñ–æ–≤—Ç–∏–π** = –û–±—Ä–æ–±–ª—è—î—Ç—å—Å—è (1-3 —Å–µ–∫)
   - ‚úÖ **–ó–µ–ª–µ–Ω–∏–π** = –£—Å–ø—ñ—à–Ω–æ
   - ‚ùå **–ß–µ—Ä–≤–æ–Ω–∏–π** = –ü–æ–º–∏–ª–∫–∞ (–∑ –æ–ø–∏—Å–æ–º)

## üéØ –î–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è?

### 1. –§–æ—Ä–º–∞ –≤–∏—Ç—Ä–∞—Ç

**URL:** `/cars/:id/expenses/add`

–î–æ–¥–∞–π—Ç–µ —Ñ–æ—Ç–æ —á–µ–∫—ñ–≤ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏.

### 2. –§–æ—Ä–º–∞ —Ç–µ—Ö–Ω—ñ—á–Ω–æ–≥–æ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è

**URL:** `/cars/:id/maintenance/add`

–î–æ–¥–∞–π—Ç–µ —Ñ–æ—Ç–æ —Ä–∞—Ö—É–Ω–∫—ñ–≤ –∑–∞ –¢–û.

## üí° –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

```typescript
import { ReceiptUpload, ReceiptPhoto } from "../../shared/ui";

const [photos, setPhotos] = useState<ReceiptPhoto[]>([]);

<ReceiptUpload maxPhotos={5} onPhotosChange={setPhotos} disabled={false} />;
```

## üé® –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è

- **30% —à–∞–Ω—Å –ø–æ–º–∏–ª–∫–∏** (—Å–∏–º—É–ª—è—Ü—ñ—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ OCR)
- 6 —Ç–∏–ø—ñ–≤ –º–æ–∂–ª–∏–≤–∏—Ö –ø–æ–º–∏–ª–æ–∫ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- –û–±—Ä–æ–±–∫–∞ 1-3 —Å–µ–∫—É–Ω–¥–∏ –Ω–∞ —Ñ–æ—Ç–æ

### –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –ø–æ–º–∏–ª–æ–∫

- ‚è≥ –ù–µ–º–æ–∂–ª–∏–≤–æ –∑–±–µ—Ä–µ–≥—Ç–∏ —Ñ–æ—Ä–º—É –ø—ñ–¥ —á–∞—Å –æ–±—Ä–æ–±–∫–∏
- ‚ùå –ù–µ–º–æ–∂–ª–∏–≤–æ –∑–±–µ—Ä–µ–≥—Ç–∏ —Ñ–æ—Ä–º—É –∑ –ø–æ–º–∏–ª–∫–æ–≤–∏–º–∏ —Ñ–æ—Ç–æ
- ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç—ñ–ª—å–∫–∏ –∑ —É—Å–ø—ñ—à–Ω–∏–º–∏ —Ñ–æ—Ç–æ

### UI/UX

- üîç –ö–ª—ñ–∫ –Ω–∞ —Ñ–æ—Ç–æ = –ø–æ–≤–Ω–∏–π —Ä–æ–∑–º—ñ—Ä
- üóëÔ∏è –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ —Ñ–æ—Ç–æ –æ–∫—Ä–µ–º–æ
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—Ä–æ–±–∫–∏ –Ω–∞ –¥–µ–º–æ-—Å—Ç–æ—Ä—ñ–Ω—Ü—ñ
- üé® –ö–æ–ª—ñ—Ä–Ω—ñ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ —Å—Ç–∞—Ç—É—Å—É

## üìã –°—Ç–∞—Ç—É—Å–∏ —Ñ–æ—Ç–æ

| –°—Ç–∞—Ç—É—Å       | –ö–æ–ª—ñ—Ä       | –ó–Ω–∞—á–µ–Ω–Ω—è                   |
| ------------ | ----------- | -------------------------- |
| `processing` | üü° –ñ–æ–≤—Ç–∏–π   | –§–æ—Ç–æ –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è          |
| `success`    | üü¢ –ó–µ–ª–µ–Ω–∏–π  | –ì–æ—Ç–æ–≤–æ –¥–æ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏        |
| `error`      | üî¥ –ß–µ—Ä–≤–æ–Ω–∏–π | –ü–æ–º–∏–ª–∫–∞, –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–º—ñ–Ω–∏—Ç–∏ |

## üõ†Ô∏è –ü—Ä–∏–∫–ª–∞–¥–∏ –ø–æ–º–∏–ª–æ–∫

- "–§–æ—Ç–æ –∑–∞–Ω–∞–¥—Ç–æ —Ä–æ–∑–º–∏—Ç–µ. –°–ø—Ä–æ–±—É–π—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ —á—ñ—Ç–∫—ñ—à–µ –∑–Ω—ñ–º–æ–∫"
- "–ù–µ –≤–¥–∞–ª–æ—Å—è —Ä–æ–∑–ø—ñ–∑–Ω–∞—Ç–∏ —á–µ–∫. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –≤–µ—Å—å —á–µ–∫ –≤–∏–¥–Ω–æ –Ω–∞ —Ñ–æ—Ç–æ"
- "–ü–æ–≥–∞–Ω–∞ —è–∫—ñ—Å—Ç—å –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –∫—Ä–∞—â–µ –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è"
- "–ß–µ–∫ –∑–∞–Ω–∞–¥—Ç–æ —Ç–µ–º–Ω–∏–π. –ó—Ä–æ–±—ñ—Ç—å —Ñ–æ—Ç–æ –ø—Ä–∏ –∫—Ä–∞—â–æ–º—É –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—ñ"
- "–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–Ω–∞–π—Ç–∏ —Å—É–º—É –Ω–∞ —á–µ–∫—É. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤–µ—Å—å —á–µ–∫ –Ω–∞ —Ñ–æ—Ç–æ"

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–∏—Ç–∏ —à–∞–Ω—Å –ø–æ–º–∏–ª–∫–∏

–§–∞–π–ª: `src/shared/ui/receipt-upload.tsx`

```typescript
// –ó–Ω–∞–π–¥—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é validateReceipt
const shouldFail = Math.random() < 0.3; // 30% = 0.3, –∑–º—ñ–Ω—ñ—Ç—å –Ω–∞ –ø–æ—Ç—Ä—ñ–±–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è
```

### –ó–º—ñ–Ω–∏—Ç–∏ —á–∞—Å –æ–±—Ä–æ–±–∫–∏

```typescript
// –ó–Ω–∞–π–¥—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é processPhoto
const processingTime = 1000 + Math.random() * 2000; // 1-3 —Å–µ–∫
```

### –ó–º—ñ–Ω–∏—Ç–∏ –º–∞–∫—Å–∏–º—É–º —Ñ–æ—Ç–æ

```typescript
<ReceiptUpload
  maxPhotos={10} // –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 5
  onPhotosChange={setPhotos}
/>
```

## üìö –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ: [RECEIPT_UPLOAD.md](./RECEIPT_UPLOAD.md)

## üêõ Troubleshooting

**–§–æ—Ç–æ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è?**

- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –¥–æ–∑–≤–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –∫–∞–º–µ—Ä—É
- –ù–∞ iOS –ø–æ—Ç—Ä—ñ–±–µ–Ω HTTPS

**–ü–æ–≤—ñ–ª—å–Ω–æ –ø—Ä–∞—Ü—é—î?**

- –ó–º–µ–Ω—à—ñ—Ç—å `maxPhotos`
- –ó–º–µ–Ω—à—ñ—Ç—å —á–∞—Å –æ–±—Ä–æ–±–∫–∏ –≤ –∫–æ–¥—ñ

**–•–æ—á—É –±—ñ–ª—å—à–µ –ø–æ–º–∏–ª–æ–∫?**

- –ó–±—ñ–ª—å—à—Ç–µ `shouldFail` –∑–Ω–∞—á–µ–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 0.5 = 50% –ø–æ–º–∏–ª–æ–∫)

## üìû –ö–æ–Ω—Ç–∞–∫—Ç–∏

–ü–∏—Ç–∞–Ω–Ω—è? –°—Ç–≤–æ—Ä—ñ—Ç—å issue —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó.
