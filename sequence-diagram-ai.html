<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CarLine - AI Photo Processing Sequence Diagram</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
        margin: 0;
        padding: 20px;
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        min-height: 100vh;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        background: white;
        border-radius: 12px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 30px 40px;
        text-align: center;
      }

      .header h1 {
        margin: 0;
        font-size: 2.5em;
        font-weight: 700;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }

      .header p {
        margin: 10px 0 0;
        font-size: 1.1em;
        opacity: 0.95;
      }

      .diagram-container {
        padding: 40px;
        background: #f8f9fa;
        position: relative;
      }

      .diagram-wrapper {
        overflow: hidden;
        position: relative;
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        cursor: grab;
        min-height: 600px;
      }

      .diagram-wrapper:active {
        cursor: grabbing;
      }

      .mermaid {
        background: white;
        padding: 30px;
        transform-origin: 0 0;
        transition: transform 0.2s ease;
      }

      .zoom-controls {
        position: absolute;
        top: 50px;
        right: 50px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        z-index: 100;
      }

      .zoom-btn {
        background: white;
        border: 2px solid #f093fb;
        color: #f093fb;
        width: 45px;
        height: 45px;
        border-radius: 8px;
        font-size: 20px;
        font-weight: bold;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        transition: all 0.2s ease;
      }

      .zoom-btn:hover {
        background: #f093fb;
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(240, 147, 251, 0.3);
      }

      .zoom-btn:active {
        transform: translateY(0);
      }

      .zoom-level {
        background: white;
        border: 2px solid #f093fb;
        color: #f093fb;
        padding: 8px 12px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
        text-align: center;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        user-select: none;
      }

      .zoom-help {
        position: absolute;
        bottom: 50px;
        right: 50px;
        background: rgba(255, 255, 255, 0.95);
        border: 2px solid #f093fb;
        color: #f5576c;
        padding: 12px 16px;
        border-radius: 8px;
        font-size: 13px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        z-index: 100;
      }

      .zoom-help strong {
        color: #f093fb;
      }

      .description {
        padding: 30px 40px;
        background: white;
      }

      .description h2 {
        color: #f093fb;
        margin-top: 0;
        margin-bottom: 20px;
        font-size: 1.8em;
      }

      .description p {
        line-height: 1.8;
        color: #495057;
        margin-bottom: 15px;
      }

      .description h3 {
        color: #f5576c;
        margin-top: 25px;
        margin-bottom: 15px;
        font-size: 1.3em;
      }

      .description ul {
        line-height: 1.8;
        color: #495057;
      }

      .description li {
        margin-bottom: 8px;
      }

      .description strong {
        color: #f093fb;
      }

      .scenarios {
        padding: 30px 40px;
        background: #f8f9fa;
        border-top: 2px solid #e9ecef;
      }

      .scenarios h2 {
        color: #f093fb;
        margin-top: 0;
        margin-bottom: 25px;
        font-size: 1.8em;
      }

      .scenario-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
      }

      .scenario-card {
        background: white;
        padding: 25px;
        border-radius: 8px;
        border-left: 4px solid #f093fb;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .scenario-card h3 {
        margin-top: 0;
        color: #f5576c;
        font-size: 1.2em;
        margin-bottom: 15px;
      }

      .scenario-card p {
        margin: 0;
        color: #6c757d;
        line-height: 1.6;
      }

      .ai-features {
        padding: 30px 40px;
        background: white;
        border-top: 2px solid #e9ecef;
      }

      .ai-features h2 {
        color: #f093fb;
        margin-top: 0;
        margin-bottom: 25px;
        font-size: 1.8em;
      }

      .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 25px;
      }

      .feature-card {
        background: #f8f9fa;
        padding: 25px;
        border-radius: 8px;
        border-left: 4px solid #f5576c;
      }

      .feature-card h3 {
        margin-top: 0;
        color: #f093fb;
        font-size: 1.2em;
        margin-bottom: 15px;
      }

      .feature-card ul {
        margin: 0;
        padding-left: 20px;
        line-height: 1.8;
        color: #495057;
      }

      .footer {
        padding: 20px 40px;
        text-align: center;
        background: #f8f9fa;
        color: #6c757d;
        border-top: 2px solid #e9ecef;
      }

      @media print {
        body {
          background: white;
        }
        .container {
          box-shadow: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>ü§ñ CarLine AI Processing</h1>
        <p>Smart Photo Recognition - Automated Data Entry</p>
      </div>

      <div class="diagram-container">
        <div class="zoom-controls">
          <button class="zoom-btn" id="zoom-in" title="–ó–±—ñ–ª—å—à–∏—Ç–∏ (Scroll Up)">
            +
          </button>
          <div class="zoom-level" id="zoom-level">100%</div>
          <button class="zoom-btn" id="zoom-out" title="–ó–º–µ–Ω—à–∏—Ç–∏ (Scroll Down)">
            ‚àí
          </button>
          <button class="zoom-btn" id="zoom-reset" title="–°–∫–∏–Ω—É—Ç–∏">‚ü≤</button>
        </div>
        <div class="zoom-help">
          <strong>üí° –ü—ñ–¥–∫–∞–∑–∫–∞:</strong> –ö–æ–ª—ñ—â–∞—Ç–∫–æ –º–∏—à—ñ –¥–ª—è zoom, –ø–µ—Ä–µ—Ç—è–≥—É–π—Ç–µ –¥–ª—è
          –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è
        </div>
        <div class="diagram-wrapper" id="diagram-wrapper">
          <pre class="mermaid" id="mermaid-diagram">
sequenceDiagram
    actor User as üë§ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á
    participant Frontend as üì± Frontend<br/>(React/Ionic)
    participant Camera as üì∑ Camera API
    participant FileUpload as üì§ File Upload<br/>Component
    participant Controller as üéÆ AIController
    participant AIService as ü§ñ AI Service
    participant OCR as üëÅÔ∏è OCR Engine<br/>(Tesseract/Cloud Vision)
    participant GPT as üß† GPT-4 Vision<br/>API
    participant Validator as ‚úÖ Data Validator
    participant ExpenseService as üí∞ ExpensesService
    participant MileageService as üìä MileageService
    participant DB as üíæ Database
    
    %% –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —á–µ–∫–∞
    Note over User,DB: –°—Ü–µ–Ω–∞—Ä—ñ–π 1: –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ —á–µ–∫–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç–∏
    
    User->>Frontend: 1. –ù–∞—Ç–∏—Å–∫–∞—î "–î–æ–¥–∞—Ç–∏ –≤–∏—Ç—Ä–∞—Ç—É –∑ —Ñ–æ—Ç–æ"
    Frontend->>Camera: 2. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–º–µ—Ä—É
    Camera-->>User: 3. –ü–æ–∫–∞–∑–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞–º–µ—Ä–∏
    
    User->>Camera: 4. –†–æ–±–∏—Ç—å —Ñ–æ—Ç–æ —á–µ–∫–∞
    Camera-->>Frontend: 5. –ü–æ–≤–µ—Ä—Ç–∞—î –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (base64/blob)
    
    Frontend->>Frontend: 6. –ü–æ–∫–∞–∑—É—î preview –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    User->>Frontend: 7. –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
    
    Frontend->>Frontend: 8. Compress & optimize image
    Note over Frontend: –°—Ç–∏—Å–Ω–µ–Ω–Ω—è –¥–ª—è —à–≤–∏–¥—à–æ—ó –ø–µ—Ä–µ–¥–∞—á—ñ
    
    Frontend->>Controller: 9. POST /ai/process-receipt<br/>{ image: base64, carId: uuid }
    
    Controller->>Controller: 10. –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–æ—Ä–º–∞—Ç—É<br/>(JPEG, PNG, max 10MB)
    
    Controller->>AIService: 11. processReceipt(image, carId)
    
    par –ü–∞—Ä–∞–ª–µ–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞
        AIService->>OCR: 12a. extractText(image)
        Note over OCR: –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É<br/>–∑ —á–µ–∫–∞
        OCR->>OCR: Preprocessing:<br/>- Grayscale<br/>- Deskew<br/>- Noise reduction
        OCR-->>AIService: 13a. Extracted text
        
        AIService->>GPT: 12b. analyzeReceiptImage(image)
        Note over GPT: GPT-4 Vision –∞–Ω–∞–ª—ñ–∑—É—î<br/>—Å—Ç—Ä—É–∫—Ç—É—Ä—É —á–µ–∫–∞
        GPT-->>AIService: 13b. Image analysis
    end
    
    AIService->>AIService: 14. Combine OCR + GPT results
    
    AIService->>GPT: 15. POST /completions<br/>Prompt: "Extract structured data"
    Note over GPT: Structured prompt:<br/>{ amount, date, merchant,<br/>category, items[] }
    
    GPT-->>AIService: 16. JSON response:<br/>{ amount: 1250.50,<br/>date: "2024-12-19",<br/>merchant: "WOG",<br/>category: "fuel",<br/>confidence: 0.95 }
    
    AIService->>Validator: 17. validateExtractedData(data)
    
    alt –ù–∏–∑—å–∫–∞ –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å (confidence < 0.8)
        Validator-->>AIService: ‚ö†Ô∏è Low confidence
        AIService-->>Controller: 18. Return with warning
        Controller-->>Frontend: 19. 200 OK<br/>{ data: {...}, needsReview: true }
        Frontend-->>User: ‚ö†Ô∏è "–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –¥–∞–Ω—ñ"<br/>–ü–æ–∫–∞–∑—É—î —Ñ–æ—Ä–º—É –∑ –∑–∞–ø–æ–≤–Ω–µ–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏
        User->>Frontend: 20. –ö–æ—Ä–∏–≥—É—î —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î
    else –í–∏—Å–æ–∫–∞ –≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å (confidence >= 0.8)
        Validator-->>AIService: ‚úÖ Data validated
        AIService-->>Controller: Data confirmed
        Controller-->>Frontend: 21. 200 OK<br/>{ data: {...}, needsReview: false }
        Frontend-->>User: ‚ú® "–î–∞–Ω—ñ —Ä–æ–∑–ø—ñ–∑–Ω–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ!"<br/>–ü–æ–∫–∞–∑—É—î preview
    end
    
    User->>Frontend: 22. –ù–∞—Ç–∏—Å–∫–∞—î "–ó–±–µ—Ä–µ–≥—Ç–∏"
    Frontend->>Controller: 23. POST /expenses/:carId<br/>{ amount, date, category, ... }
    Controller->>ExpenseService: 24. create(carId, expenseDto)
    ExpenseService->>DB: 25. INSERT expense
    DB-->>ExpenseService: 26. Created expense
    ExpenseService-->>Controller: 27. Expense entity
    Controller-->>Frontend: 28. 201 Created
    Frontend-->>User: ‚úÖ "–í–∏—Ç—Ä–∞—Ç—É —Å—Ç–≤–æ—Ä–µ–Ω–æ!"
    
    %% –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –æ–¥–æ–º–µ—Ç—Ä–∞
    Note over User,DB: –°—Ü–µ–Ω–∞—Ä—ñ–π 2: –§–æ—Ç–æ –æ–¥–æ–º–µ—Ç—Ä–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É –ø—Ä–æ–±—ñ–≥—É
    
    User->>Frontend: 29. "–î–æ–¥–∞—Ç–∏ –ø—Ä–æ–±—ñ–≥ –∑ —Ñ–æ—Ç–æ"
    Frontend->>Camera: 30. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–º–µ—Ä—É
    User->>Camera: 31. –†–æ–±–∏—Ç—å —Ñ–æ—Ç–æ –æ–¥–æ–º–µ—Ç—Ä–∞
    Camera-->>Frontend: 32. –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –æ–¥–æ–º–µ—Ç—Ä–∞
    
    Frontend->>Controller: 33. POST /ai/process-odometer<br/>{ image: base64, carId: uuid }
    Controller->>AIService: 34. processOdometer(image, carId)
    
    AIService->>OCR: 35. extractNumbers(image)
    Note over OCR: –°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–µ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è<br/>—Ü–∏—Ñ—Ä –æ–¥–æ–º–µ—Ç—Ä–∞
    OCR->>OCR: Apply filters:<br/>- Edge detection<br/>- Digit segmentation<br/>- Contrast enhancement
    OCR-->>AIService: 36. Detected digits: "125847"
    
    AIService->>GPT: 37. verifyOdometerReading(image, "125847")
    Note over GPT: GPT –ø–µ—Ä–µ–≤—ñ—Ä—è—î –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å<br/>—Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è
    GPT-->>AIService: 38. { value: 125847,<br/>unit: "km",<br/>confidence: 0.98 }
    
    AIService->>MileageService: 39. validateMileage(carId, 125847)
    Note over MileageService: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ—á–Ω–æ—Å—Ç—ñ:<br/>–Ω–µ –º–µ–Ω—à–µ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ
    
    alt –ü—Ä–æ–±—ñ–≥ –º–µ–Ω—à–∏–π –∑–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π
        MileageService-->>AIService: ‚ùå Invalid: less than previous
        AIService-->>Controller: Error
        Controller-->>Frontend: 40. 400 Bad Request<br/>"–ü—Ä–æ–±—ñ–≥ –º–µ–Ω—à–∏–π –∑–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π"
        Frontend-->>User: ‚ùå "–ü–æ–º–∏–ª–∫–∞: –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–æ—Ç–æ"<br/>–ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ä—É—á–Ω–æ–≥–æ –≤–≤–µ–¥–µ–Ω–Ω—è
    else –ü—Ä–æ–±—ñ–≥ –∫–æ—Ä–µ–∫—Ç–Ω–∏–π
        MileageService-->>AIService: ‚úÖ Valid mileage
        AIService-->>Controller: 41. { mileage: 125847,<br/>confidence: 0.98 }
        Controller-->>Frontend: 42. 200 OK
        Frontend-->>User: ‚ú® "–ü—Ä–æ–±—ñ–≥ —Ä–æ–∑–ø—ñ–∑–Ω–∞–Ω–æ: 125,847 –∫–º"<br/>–ö–Ω–æ–ø–∫–∞ "–ó–±–µ—Ä–µ–≥—Ç–∏"
        
        User->>Frontend: 43. –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î
        Frontend->>Controller: 44. POST /mileage/:carId
        Controller->>MileageService: 45. create(carId, { value: 125847 })
        MileageService->>DB: 46. INSERT mileage
        DB-->>MileageService: 47. Created
        MileageService-->>Controller: 48. Mileage entity
        Controller-->>Frontend: 49. 201 Created
        Frontend-->>User: ‚úÖ "–ü—Ä–æ–±—ñ–≥ –∑–±–µ—Ä–µ–∂–µ–Ω–æ!"
    end
    
    %% –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
    Note over User,DB: –°—Ü–µ–Ω–∞—Ä—ñ–π 3: –û–±—Ä–æ–±–∫–∞ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    
    User->>Frontend: 50. –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î —Ä–æ–∑–º–∏—Ç–µ —Ñ–æ—Ç–æ
    Frontend->>Controller: 51. POST /ai/process-receipt
    Controller->>AIService: 52. processReceipt(blurryImage)
    AIService->>OCR: 53. extractText(blurryImage)
    OCR-->>AIService: 54. Low quality result<br/>confidence: 0.3
    
    AIService->>AIService: 55. Detect poor quality
    AIService-->>Controller: 56. { error: "poor_quality",<br/>suggestion: "–ó—Ä–æ–±—ñ—Ç—å —á—ñ—Ç–∫—ñ—à–µ —Ñ–æ—Ç–æ" }
    Controller-->>Frontend: 57. 422 Unprocessable Entity
    Frontend-->>User: üì∏ "–§–æ—Ç–æ –Ω–∏–∑—å–∫–æ—ó —è–∫–æ—Å—Ç—ñ"<br/>"–°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑ –∑ –∫—Ä–∞—â–∏–º<br/>–æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è–º —Ç–∞ —Ñ–æ–∫—É—Å–æ–º"
    
    User->>Frontend: 58. –†–æ–±–∏—Ç—å –Ω–æ–≤–µ —Ñ–æ—Ç–æ
    Note over User,Frontend: –ü–æ–≤—Ç–æ—Ä—é—î –ø—Ä–æ—Ü–µ—Å –∑ –∫—Ä–∞—â–∏–º —Ñ–æ—Ç–æ
          </pre>
        </div>
      </div>

      <div class="description">
        <h2>üìù –û–ø–∏—Å AI –æ–±—Ä–æ–±–∫–∏</h2>
        <p>
          –¶—è –¥—ñ–∞–≥—Ä–∞–º–∞ –ø–æ–∫–∞–∑—É—î —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é —à—Ç—É—á–Ω–æ–≥–æ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É –≤ –ø—Ä–æ—Ü–µ—Å –¥–æ–¥–∞–≤–∞–Ω–Ω—è
          –¥–∞–Ω–∏—Ö. –ó–∞–º—ñ—Å—Ç—å —Ä—É—á–Ω–æ–≥–æ –≤–≤–µ–¥–µ–Ω–Ω—è, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ä–æ–±–∏—Ç—å —Ñ–æ—Ç–æ, –∞ —Å–∏—Å—Ç–µ–º–∞
          –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑–ø—ñ–∑–Ω–∞—î —Ç–∞ –≤–∏—Ç—è–≥—É—î –ø–æ—Ç—Ä—ñ–±–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.
        </p>

        <h3>–ö–ª—é—á–æ–≤—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó:</h3>
        <ul>
          <li>
            <strong>OCR (Optical Character Recognition)</strong> - —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è
            —Ç–µ–∫—Å—Ç—É –∑ –∑–æ–±—Ä–∞–∂–µ–Ω—å (Tesseract, Google Cloud Vision API)
          </li>
          <li>
            <strong>GPT-4 Vision API</strong> - –≥–ª–∏–±–æ–∫–∏–π –∞–Ω–∞–ª—ñ–∑ –∑–æ–±—Ä–∞–∂–µ–Ω—å —Ç–∞
            –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
          </li>
          <li>
            <strong>Computer Vision</strong> - –ø–æ–ø–µ—Ä–µ–¥–Ω—è –æ–±—Ä–æ–±–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å –¥–ª—è
            –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —è–∫–æ—Å—Ç—ñ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è
          </li>
          <li>
            <strong>Natural Language Processing</strong> - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü—ñ—è
            –≤–∏—Ç—è–≥–Ω—É—Ç–∏—Ö –¥–∞–Ω–∏—Ö
          </li>
        </ul>

        <h3>–¢–∏–ø–∏ –∑–æ–±—Ä–∞–∂–µ–Ω—å –¥–ª—è –æ–±—Ä–æ–±–∫–∏:</h3>
        <ul>
          <li>
            <strong>–ß–µ–∫–∏ —Ç–∞ —Ä–∞—Ö—É–Ω–∫–∏</strong> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç
            (—Å—É–º–∞, –¥–∞—Ç–∞, –∫–∞—Ç–µ–≥–æ—Ä—ñ—è, –æ–ø–∏—Å)
          </li>
          <li><strong>–û–¥–æ–º–µ—Ç—Ä</strong> - –∑–∞–ø–∏—Å –ø—Ä–æ–±—ñ–≥—É –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–≤–µ–¥–µ–Ω–Ω—è</li>
          <li>
            <strong>–Ü–Ω–≤–æ–π—Å–∏ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è</strong> - –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Å—ñ–≤
            —Ç–µ—Ö–Ω—ñ—á–Ω–æ–≥–æ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è
          </li>
          <li>
            <strong>–ü–∞–ª–∏–≤–Ω—ñ —á–µ–∫–∏</strong> - —Ç—Ä–µ–∫—ñ–Ω–≥ –∑–∞–ø—Ä–∞–≤–æ–∫ –∑ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è–º
            –æ–±'—î–º—É —Ç–∞ —Ü—ñ–Ω–∏
          </li>
        </ul>

        <h3>–ü–µ—Ä–µ–≤–∞–≥–∏ AI –ø—ñ–¥—Ö–æ–¥—É:</h3>
        <ul>
          <li>‚ö° <strong>–®–≤–∏–¥–∫—ñ—Å—Ç—å</strong> - –µ–∫–æ–Ω–æ–º—ñ—è —á–∞—Å—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</li>
          <li>
            ‚úÖ <strong>–¢–æ—á–Ω—ñ—Å—Ç—å</strong> - –∑–º–µ–Ω—à–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ —Ä—É—á–Ω–æ–≥–æ –≤–≤–µ–¥–µ–Ω–Ω—è
          </li>
          <li>
            üéØ <strong>–ó—Ä—É—á–Ω—ñ—Å—Ç—å</strong> - –ø—Ä–æ—Å—Ç–æ –∑—Ä–æ–±–∏—Ç–∏ —Ñ–æ—Ç–æ –∑–∞–º—ñ—Å—Ç—å
            –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —Ñ–æ—Ä–º–∏
          </li>
          <li>
            üìä <strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü—ñ—è</strong> - AI –≤–∏–∑–Ω–∞—á–∞—î —Ç–∏–ø
            –≤–∏—Ç—Ä–∞—Ç–∏
          </li>
          <li>
            üîç <strong>–í–∞–ª—ñ–¥–∞—Ü—ñ—è</strong> - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ —Ä–æ–∑–ø—ñ–∑–Ω–∞–Ω–∏—Ö
            –¥–∞–Ω–∏—Ö
          </li>
        </ul>
      </div>

      <div class="scenarios">
        <h2>üéØ –°—Ü–µ–Ω–∞—Ä—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è AI</h2>

        <div class="scenario-grid">
          <div class="scenario-card">
            <h3>üìÑ –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —á–µ–∫–∞</h3>
            <p>
              –°–∏—Å—Ç–µ–º–∞ –≤–∏—Ç—è–≥—É—î —Å—É–º—É, –¥–∞—Ç—É, –Ω–∞–π–º–µ–Ω—É–≤–∞–Ω–Ω—è –ø—Ä–æ–¥–∞–≤—Ü—è, —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
              –≤–∏–∑–Ω–∞—á–∞—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –≤–∏—Ç—Ä–∞—Ç–∏ (–ø–∞–ª–∏–≤–æ, –º–∏–π–∫–∞, –∑–∞–ø—á–∞—Å—Ç–∏–Ω–∏, —Ä–µ–º–æ–Ω—Ç).
              Confidence score –ø–æ–∫–∞–∑—É—î –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è.
            </p>
          </div>

          <div class="scenario-card">
            <h3>üöó –ü—Ä–æ–±—ñ–≥ –∑ –æ–¥–æ–º–µ—Ç—Ä–∞</h3>
            <p>
              OCR —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –Ω–∞ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —Ü–∏—Ñ—Ä –æ–¥–æ–º–µ—Ç—Ä–∞.
              –°–∏—Å—Ç–µ–º–∞ –≤–∞–ª—ñ–¥—É—î, —â–æ –Ω–æ–≤–∏–π –ø—Ä–æ–±—ñ–≥ –±—ñ–ª—å—à–∏–π –∑–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —Ç–∞
              –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ä–æ–∑—É–º–Ω–∏—Ö –º–µ–∂–∞—Ö (–Ω–µ –∑–∞–Ω–∞–¥—Ç–æ –≤–µ–ª–∏–∫–∏–π –ø—Ä–∏—Ä—ñ—Å—Ç).
            </p>
          </div>

          <div class="scenario-card">
            <h3>üîß –Ü–Ω–≤–æ–π—Å–∏ –°–¢–û</h3>
            <p>
              –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —Ä–∞—Ö—É–Ω–∫—ñ–≤ –∑ –∞–≤—Ç–æ—Å–µ—Ä–≤—ñ—Å—É: –≤–∞—Ä—Ç—ñ—Å—Ç—å —Ä–æ–±—ñ—Ç, –¥–∞—Ç–∞
              –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è, —Ç–∏–ø —Ä–æ–±—ñ—Ç (–∑–∞–º—ñ–Ω–∞ –º–∞—Å–ª–∞, –≥–∞–ª—å–º–∞, —à–∏–Ω–∏).
              –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —Ñ–æ—Ä–º–∏ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è.
            </p>
          </div>

          <div class="scenario-card">
            <h3>‚õΩ –ü–∞–ª–∏–≤–Ω—ñ –∫–∞—Ä—Ç–∫–∏</h3>
            <p>
              –í–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ —á–µ–∫—ñ–≤ –ê–ó–°: –æ–±'—î–º –ø–∞–ª–∏–≤–∞, —Ü—ñ–Ω–∞ –∑–∞ –ª—ñ—Ç—Ä,
              –∑–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞, —Ç–∏–ø –ø–∞–ª–∏–≤–∞ (–±–µ–Ω–∑–∏–Ω/–¥–∏–∑–µ–ª—å). –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Å–µ—Ä–µ–¥–Ω—å–æ—ó
              –≤–∏—Ç—Ä–∞—Ç–∏ –ø–∞–ª–∏–≤–∞.
            </p>
          </div>

          <div class="scenario-card">
            <h3>‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å —è–∫–æ—Å—Ç—ñ</h3>
            <p>
              AI –æ—Ü—ñ–Ω—é—î confidence score –∫–æ–∂–Ω–æ–≥–æ —Ä–æ–∑–ø—ñ–∑–Ω–∞–Ω–æ–≥–æ –ø–æ–ª—è. –ü—Ä–∏ –Ω–∏–∑—å–∫—ñ–π
              –≤–ø–µ–≤–Ω–µ–Ω–æ—Å—Ç—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º—É—î –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è —Ç–∞ –º–æ–∂–µ —Å–∫–æ—Ä–∏–≥—É–≤–∞—Ç–∏
              –¥–∞–Ω—ñ –ø–µ—Ä–µ–¥ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º.
            </p>
          </div>

          <div class="scenario-card">
            <h3>üîÑ –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º</h3>
            <p>
              –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–±–µ—Ä–µ–≥—Ç–∏ —Ñ–æ—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ —Ç–∞ –æ–±—Ä–æ–±–∏—Ç–∏ –ø—ñ–∑–Ω—ñ—à–µ –ø—Ä–∏ –ø–æ—è–≤—ñ
              —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É. –õ–æ–∫–∞–ª—å–Ω–µ OCR –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –±–µ–∑
              –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è.
            </p>
          </div>
        </div>
      </div>

      <div class="ai-features">
        <h2>ü§ñ AI –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —Å–∏—Å—Ç–µ–º–∏</h2>

        <div class="feature-grid">
          <div class="feature-card">
            <h3>üß† –ú–∞—à–∏–Ω–Ω–µ –Ω–∞–≤—á–∞–Ω–Ω—è</h3>
            <ul>
              <li>–ù–∞–≤—á–∞–Ω–Ω—è –Ω–∞ —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</li>
              <li>–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Ç–æ—á–Ω–æ—Å—Ç—ñ –∑ —á–∞—Å–æ–º</li>
              <li>–ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü—ñ—è</li>
              <li>–†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —É–ª—é–±–ª–µ–Ω–∏—Ö –ª–æ–∫–∞—Ü—ñ–π/–°–¢–û</li>
            </ul>
          </div>

          <div class="feature-card">
            <h3>üëÅÔ∏è Computer Vision</h3>
            <ul>
              <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∫–æ—Ä–µ–∫—Ü—ñ—è –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∏</li>
              <li>–ü—ñ–¥–≤–∏—â–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç—É —Ç–∞ —á—ñ—Ç–∫–æ—Å—Ç—ñ</li>
              <li>–í–∏–¥–∞–ª–µ–Ω–Ω—è —à—É–º—É –∑ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</li>
              <li>–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–µ–∂ –¥–æ–∫—É–º–µ–Ω—Ç–∞</li>
            </ul>
          </div>

          <div class="feature-card">
            <h3>üìä –Ü–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è</h3>
            <ul>
              <li>–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ—á–Ω–æ—Å—Ç—ñ –¥–∞—Ç–∏ —Ç–∞ —Å—É–º–∏</li>
              <li>–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏</li>
              <li>–í–∏—è–≤–ª–µ–Ω–Ω—è –∞–Ω–æ–º–∞–ª—ñ–π —Ç–∞ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤</li>
              <li>–ü—ñ–¥–∫–∞–∑–∫–∏ –ø—Ä–∏ –≤–∏—è–≤–ª–µ–Ω–Ω—ñ –ø–æ–º–∏–ª–æ–∫</li>
            </ul>
          </div>

          <div class="feature-card">
            <h3>üåç –ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω—ñ—Å—Ç—å</h3>
            <ul>
              <li>–†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é, –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é</li>
              <li>–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤ –¥–∞—Ç</li>
              <li>–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –≤–∞–ª—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ</li>
              <li>–ú—ñ–∂–Ω–∞—Ä–æ–¥–Ω—ñ —á–µ–∫–∏ —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏</li>
            </ul>
          </div>

          <div class="feature-card">
            <h3>‚ö° –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ</h3>
            <ul>
              <li>–°—Ç–∏—Å–Ω–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –ø–µ—Ä–µ–¥ –≤—ñ–¥–ø—Ä–∞–≤–∫–æ—é</li>
              <li>–ö–µ—à—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ OCR</li>
              <li>–ü–∞—Ä–∞–ª–µ–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ OCR + GPT</li>
              <li>–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–Ω–∞ —á–µ—Ä–≥–∞ –æ–±—Ä–æ–±–∫–∏</li>
            </ul>
          </div>

          <div class="feature-card">
            <h3>üîí –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å</h3>
            <ul>
              <li>–®–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á—ñ</li>
              <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ–æ—Ç–æ –ø—ñ—Å–ª—è –æ–±—Ä–æ–±–∫–∏</li>
              <li>–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ª–∏—à–µ –≤–∏—Ç—è–≥–Ω—É—Ç–∏—Ö –¥–∞–Ω–∏—Ö</li>
              <li>GDPR-—Å—É–º—ñ—Å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="footer">
        <p>CarLine AI-Powered Data Entry ‚Ä¢ Smart Photo Recognition System</p>
      </div>
    </div>

    <script>
      mermaid.initialize({
        startOnLoad: true,
        theme: "default",
        themeVariables: {
          primaryColor: "#fff",
          primaryTextColor: "#000",
          primaryBorderColor: "#f093fb",
          lineColor: "#f5576c",
          secondaryColor: "#f8f9fa",
          tertiaryColor: "#e9ecef",
          actorBkg: "#f093fb",
          actorBorder: "#f5576c",
          actorTextColor: "#fff",
          actorLineColor: "#f5576c",
          signalColor: "#333",
          signalTextColor: "#000",
          labelBoxBkgColor: "#f093fb",
          labelBoxBorderColor: "#f5576c",
          labelTextColor: "#fff",
          loopTextColor: "#000",
          noteBorderColor: "#f5576c",
          noteBkgColor: "#fff5f7",
          noteTextColor: "#000",
          activationBorderColor: "#f5576c",
          activationBkgColor: "#fff5f7",
          sequenceNumberColor: "#fff",
          fontFamily: '"Monaco", "Courier New", monospace',
        },
        sequence: {
          useMaxWidth: true,
          wrap: true,
          wrapPadding: 10,
          showSequenceNumbers: false,
          actorMargin: 50,
          width: 150,
          height: 65,
          boxMargin: 10,
          boxTextMargin: 5,
          noteMargin: 10,
          messageMargin: 35,
        },
      });

      // Zoom and Pan functionality
      let scale = 1;
      let translateX = 0;
      let translateY = 0;
      let isPanning = false;
      let startX = 0;
      let startY = 0;

      const diagram = document.getElementById("mermaid-diagram");
      const wrapper = document.getElementById("diagram-wrapper");
      const zoomLevel = document.getElementById("zoom-level");
      const zoomInBtn = document.getElementById("zoom-in");
      const zoomOutBtn = document.getElementById("zoom-out");
      const zoomResetBtn = document.getElementById("zoom-reset");

      const MIN_SCALE = 0.3;
      const MAX_SCALE = 3;
      const ZOOM_STEP = 0.1;

      function updateTransform() {
        diagram.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
        zoomLevel.textContent = Math.round(scale * 100) + "%";
      }

      function zoom(delta) {
        const oldScale = scale;
        scale = Math.max(MIN_SCALE, Math.min(MAX_SCALE, scale + delta));

        const rect = wrapper.getBoundingClientRect();
        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const scaleDiff = scale - oldScale;
        translateX -= centerX * scaleDiff;
        translateY -= centerY * scaleDiff;

        updateTransform();
      }

      zoomInBtn.addEventListener("click", () => zoom(ZOOM_STEP));
      zoomOutBtn.addEventListener("click", () => zoom(-ZOOM_STEP));
      zoomResetBtn.addEventListener("click", () => {
        scale = 1;
        translateX = 0;
        translateY = 0;
        updateTransform();
      });

      wrapper.addEventListener("wheel", (e) => {
        e.preventDefault();
        const delta = e.deltaY > 0 ? -ZOOM_STEP : ZOOM_STEP;
        zoom(delta);
      });

      wrapper.addEventListener("mousedown", (e) => {
        isPanning = true;
        startX = e.clientX - translateX;
        startY = e.clientY - translateY;
        wrapper.style.cursor = "grabbing";
      });

      document.addEventListener("mousemove", (e) => {
        if (!isPanning) return;
        translateX = e.clientX - startX;
        translateY = e.clientY - startY;
        updateTransform();
      });

      document.addEventListener("mouseup", () => {
        if (isPanning) {
          isPanning = false;
          wrapper.style.cursor = "grab";
        }
      });

      let touchStartX = 0;
      let touchStartY = 0;
      let lastTouchDistance = 0;

      wrapper.addEventListener("touchstart", (e) => {
        if (e.touches.length === 1) {
          touchStartX = e.touches[0].clientX - translateX;
          touchStartY = e.touches[0].clientY - translateY;
        } else if (e.touches.length === 2) {
          const dx = e.touches[0].clientX - e.touches[1].clientX;
          const dy = e.touches[0].clientY - e.touches[1].clientY;
          lastTouchDistance = Math.sqrt(dx * dx + dy * dy);
        }
      });

      wrapper.addEventListener("touchmove", (e) => {
        e.preventDefault();
        if (e.touches.length === 1) {
          translateX = e.touches[0].clientX - touchStartX;
          translateY = e.touches[0].clientY - touchStartY;
          updateTransform();
        } else if (e.touches.length === 2) {
          const dx = e.touches[0].clientX - e.touches[1].clientX;
          const dy = e.touches[0].clientY - e.touches[1].clientY;
          const distance = Math.sqrt(dx * dx + dy * dy);
          const delta = (distance - lastTouchDistance) * 0.01;
          zoom(delta);
          lastTouchDistance = distance;
        }
      });

      document.addEventListener("keydown", (e) => {
        if (e.key === "+" || e.key === "=") {
          zoom(ZOOM_STEP);
        } else if (e.key === "-" || e.key === "_") {
          zoom(-ZOOM_STEP);
        } else if (e.key === "0" || e.key === "Escape") {
          scale = 1;
          translateX = 0;
          translateY = 0;
          updateTransform();
        }
      });
    </script>
  </body>
</html>
